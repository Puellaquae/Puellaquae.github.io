<!DOCTYPE html>
<html lang="zh-Hans">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="博客系统编年史">
    <title>博客系统编年史</title>
    <link rel="stylesheet" href="../css/style.css" />
</head>

<body>
    <header class="header">
        <section sub="" class="navbar-left title">
        </section>
        <section class="navbar-right">
            <a href=".././index.html">首页</a>
            <a href="../page/about.html">关于</a>
            </section>
    </header>
    <div class="container">
        <div class="archive indent">
            <h1>博客系统编年史</h1>
            <div class="modified date">
                2024年3月22日
            </div>
            <div class="create date">
                2022年4月1日
            </div>
            
            <div class="entry">
                <p>虽然对于一个博客而言，内容才是关键，但我还是花了很多时间在博客系统上。</p><h2>手写 HTML</h2><p>最初之时，因为我对技术的偏执，我没有选择常见的页面生成器，选择了手写 HTML 的方案。纯正的 HTML 和 CSS。能不用 JS 就不用的传统就此诞生。因为基本上都是些文本，手写 HTML 的负担并不大，而且对网页呈现效果有着 100% 的操控权。</p><h2>简单脚本</h2><p>其实从 2021 年年后开始我就打算对我的博客进行现代化改造，但是迟迟没有完成。直到 2021 年下半年，我才确定了现代化的方向：使用 markdown 文件生成页面，同时保证 markdown 的部分可读性。这也诞生第二条传统，保证 markdown 源文本在 Github 上的渲染结果一定程度上是可读的。并据此进行了简单的改造。因为先前的博文里存在交互性的内容，所以简单 markdown 并不能满足我的需求，所以利用 markdown 的一个 bug 或者说是 feature，<code>[foo]: #(bar)</code> 不会被渲染，配合 python 做预处理。同时将元数据塞进注释里来避免被显示出来。之后，我打算为系统添加 tex 代码渲染功能，用了 katex 做离线渲染。我发现我没有办法在 python 上用非常优雅的方式去调用 js。而且我发现现有使用简单预处理脚本的方式，对后续添加功能和维护不是很友好。所以规范我对 markdown 的定制和使用 js 重写的计划被提上了日程。</p><h2>定制与造轮子</h2><p>2022 年年后，我才正式完成了 markdown 的定制草案，取名为 <a href="https://github.com/Puellaquae/PuellocMark">Puelloc Tailored Markdown</a>，下称 PuellocMark。在 CommonMark 的基础上，我对削减了大部分不常见的语法，使 markdown 的解析工作可以尽可能的简单。并引入了 GFM 的表格扩展。对于 CommonMark 和 GFM 都没有的扩展，我都将其定义在 CommonMark 不可见的范围内。因为我希望原始的 markdown 文件在 Github 中打开也是可以阅读的。随后我大概花费了两到三周的时间完成了一份简单的<a href="https://www.npmjs.com/package/jsptm">解析器</a>。然后就把网站的构建系统迁移到了 PuellocMark 上。因为 PuellocMark 的主要使用者（也可能使唯一使用者）就是我这个博客，所以之后 Bug 的发现修复或者新功能的添加都是随着博客构建系统的开发而进行。伴随着 PuellocMark 的引入，扩展功能可以与 markdown 的解析解耦，我可以更自由便捷地去添加新的扩展功能。</p><p></p>
            </div>
        </div>
    </div>

    <div class="footer">
        <p rel="license"><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a></p>
        <p rel="contact">
            <a href="mailto:shentukeqin@hotmail.com">Mail</a>
            <a href="https://github.com/Puellaquae">Github</a>
        </p>
    </div>
</body>

</html>