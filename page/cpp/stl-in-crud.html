<!DOCTYPE html>
<html lang="zh-Hans">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="80 行的课设，C++ 标准库在简单增删改查中的使用">
    <title>80 行的课设，C++ 标准库在简单增删改查中的使用</title>
    <link rel="stylesheet" href="../../css/style.css" />
</head>

<body>
    <header class="header">
        <section sub="Cpp" class="navbar-left title">
        </section>
        <section class="navbar-right">
            <a href="../.././index.html">首页</a>
            <a href="../../page/about.html">关于</a>
            </section>
    </header>
    <div class="container">
        <div class="archive">
            <h1>80 行的课设，C++ 标准库在简单增删改查中的使用</h1>
            <div class="modified date">
                2024年3月22日
            </div>
            <div class="create date">
                2020年7月15日
            </div>
            
            <span class="meta">C++</span>
            
            <div class="entry">
                <p>大一 C++ 的课设内容不外乎文件读写与经典的增删改查，而利用 C++ 的标准库可以较为便利而优雅的实现。</p><p>先前在 <a href="https://zh.cppreference.com/w/cpp/algorithm/copy">cppreference</a> 中看到了 <code class='inlinecode'>copy</code> 函数和输入迭代器的巧妙利用。</p><div class='codeblock'><pre><code><span class="line"><span style="color:#6F42C1">copy</span><span style="color:#24292E">(vector.</span><span style="color:#6F42C1">begin</span><span style="color:#24292E">(), vector.</span><span style="color:#6F42C1">end</span><span style="color:#24292E">(), </span><span style="color:#6F42C1">ostream_iterator</span><span style="color:#24292E">&#x3C;</span><span style="color:#D73A49">int</span><span style="color:#24292E">>(cout, </span><span style="color:#032F62">" "</span><span style="color:#24292E">));</span></span></code></pre></div><p>将输入流视为一个特殊的容器，把 <code class='inlinecode'>vector</code> 容器中的内容复制到输出流中，可以实现数据的快速输出。同样地，输入流也可以被视作一个容器，用这种方法实现快速的输入。</p><div class='codeblock'><pre><code><span class="line"><span style="color:#6F42C1">copy</span><span style="color:#24292E">(</span><span style="color:#6F42C1">istream_iterator</span><span style="color:#24292E">&#x3C;</span><span style="color:#D73A49">int</span><span style="color:#24292E">>(cin), </span><span style="color:#6F42C1">istream_iterator</span><span style="color:#24292E">&#x3C;</span><span style="color:#D73A49">int</span><span style="color:#24292E">>(), </span><span style="color:#6F42C1">back_inserter</span><span style="color:#24292E">(vector));</span></span></code></pre></div><p>再结合算法库中的 <code class='inlinecode'>remove_if</code>，<code class='inlinecode'>sort</code> 等函数，就可用较短的代码实现一个完整课设内容。</p><p><strong>课设要求</strong>：</p><p>信用卡信息：卡号、用户姓名、身份证号码、开户银行、信用额度、消费金额、信用积分（可能为负）等。</p><p><strong>功能要求</strong>：</p><ul><li>设计菜单实现功能选择；</li><li>能够对信用卡信息进行维护：新建、修改、删除操作；</li><li>能够对信用卡进行信用额度调整、信用积分兑换等工作；</li><li>按给定的条件（卡号、用户姓名、身份证号码、信用积分等）查询课程信息；</li><li>能将信用卡信息按卡号；信用额度、消费金额、消费金额这些信息项排序整理；</li><li>以文件形式保存相关信息，可以读取默认文件中的信息进行查询等操作。</li></ul><p><strong>详细代码</strong>：</p><div class='codeblock'><pre><code><span class="line"><span style="color:#D73A49">#include</span><span style="color:#032F62"> &#x3C;fstream></span></span>
<span class="line"><span style="color:#D73A49">#include</span><span style="color:#032F62"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#D73A49">#include</span><span style="color:#032F62"> &#x3C;vector></span></span>
<span class="line"><span style="color:#D73A49">#include</span><span style="color:#032F62"> &#x3C;iterator></span></span>
<span class="line"><span style="color:#D73A49">#include</span><span style="color:#032F62"> &#x3C;algorithm></span></span>
<span class="line"><span style="color:#D73A49">using</span><span style="color:#D73A49"> namespace</span><span style="color:#6F42C1"> std</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">#define</span><span style="color:#6F42C1"> ForEach</span><span style="color:#24292E">(</span><span style="color:#E36209">Container</span><span style="color:#24292E">) (Container).</span><span style="color:#6F42C1">begin</span><span style="color:#24292E">(), (Container).</span><span style="color:#6F42C1">end</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#D73A49">#define</span><span style="color:#6F42C1"> QueryByItem</span><span style="color:#24292E">(</span><span style="color:#E36209">Item</span><span style="color:#24292E">)</span><span style="color:#005CC5">\</span></span>
<span class="line"><span style="color:#24292E">    cout </span><span style="color:#D73A49">&#x3C;&#x3C;</span><span style="color:#24292E"> #Item </span><span style="color:#032F62">"?</span><span style="color:#005CC5">\n</span><span style="color:#032F62">"</span><span style="color:#24292E">;</span><span style="color:#005CC5">\</span></span>
<span class="line"><span style="color:#D73A49">    decltype</span><span style="color:#24292E">(</span><span style="color:#6F42C1">Account</span><span style="color:#24292E">::Item) Item##Q;</span><span style="color:#005CC5">\</span></span>
<span class="line"><span style="color:#24292E">    cin </span><span style="color:#D73A49">>></span><span style="color:#24292E"> Item##Q;</span><span style="color:#005CC5">\</span></span>
<span class="line"><span style="color:#6F42C1">    copy_if</span><span style="color:#24292E">(</span><span style="color:#6F42C1">ForEach</span><span style="color:#24292E">(accounts), </span><span style="color:#6F42C1">ostream_iterator</span><span style="color:#24292E">&#x3C;</span><span style="color:#6F42C1">Account</span><span style="color:#24292E">>(cout, </span><span style="color:#032F62">"</span><span style="color:#005CC5">\n</span><span style="color:#032F62">"</span><span style="color:#24292E">),[</span><span style="color:#D73A49">=</span><span style="color:#24292E">](</span><span style="color:#6F42C1">Account</span><span style="color:#E36209"> r</span><span style="color:#24292E">) { </span><span style="color:#D73A49">return</span><span style="color:#24292E"> r.Item </span><span style="color:#D73A49">==</span><span style="color:#24292E"> Item##Q; })</span></span>
<span class="line"><span style="color:#D73A49">#define</span><span style="color:#6F42C1"> SortByItem</span><span style="color:#24292E">(</span><span style="color:#E36209">Item</span><span style="color:#24292E">) </span><span style="color:#6F42C1">sort</span><span style="color:#24292E">(</span><span style="color:#6F42C1">ForEach</span><span style="color:#24292E">(accounts), [](</span><span style="color:#D73A49">const</span><span style="color:#6F42C1"> Account</span><span style="color:#D73A49">&#x26;</span><span style="color:#E36209"> a</span><span style="color:#24292E">, </span><span style="color:#D73A49">const</span><span style="color:#6F42C1"> Account</span><span style="color:#D73A49">&#x26;</span><span style="color:#E36209"> b</span><span style="color:#24292E">) { </span><span style="color:#D73A49">return</span><span style="color:#24292E"> a.##Item </span><span style="color:#D73A49">&#x3C;</span><span style="color:#24292E"> b.##Item; })</span></span>
<span class="line"><span style="color:#D73A49">template</span><span style="color:#24292E">&#x3C;</span><span style="color:#D73A49">class</span><span style="color:#6F42C1"> T</span><span style="color:#24292E">> </span><span style="color:#6F42C1">T</span><span style="color:#6F42C1"> Input</span><span style="color:#24292E">(</span><span style="color:#D73A49">const</span><span style="color:#6F42C1"> string</span><span style="color:#D73A49">&#x26;</span><span style="color:#E36209"> placeholder</span><span style="color:#24292E">, </span><span style="color:#6F42C1">T</span><span style="color:#D73A49">&#x26;</span><span style="color:#E36209"> var</span><span style="color:#24292E">) { cout </span><span style="color:#D73A49">&#x3C;&#x3C;</span><span style="color:#24292E"> placeholder; cin </span><span style="color:#D73A49">>></span><span style="color:#24292E"> var; </span><span style="color:#D73A49">return</span><span style="color:#24292E"> var; }</span></span>
<span class="line"><span style="color:#D73A49">struct</span><span style="color:#6F42C1"> Account</span></span>
<span class="line"><span style="color:#24292E">{</span></span>
<span class="line"><span style="color:#D73A49">    int</span><span style="color:#24292E"> 卡号{};</span></span>
<span class="line"><span style="color:#24292E">    string 姓名{}, 身份证号{}, 开户银行{};</span></span>
<span class="line"><span style="color:#D73A49">    double</span><span style="color:#24292E"> 信用额度{}, 消费金额{}, 信用积分{};</span></span>
<span class="line"><span style="color:#24292E">};</span></span>
<span class="line"><span style="color:#6F42C1">ostream</span><span style="color:#D73A49">&#x26;</span><span style="color:#D73A49"> operator</span><span style="color:#6F42C1">&#x3C;&#x3C;</span><span style="color:#24292E">(</span><span style="color:#6F42C1">ostream</span><span style="color:#D73A49">&#x26;</span><span style="color:#E36209"> out</span><span style="color:#24292E">, </span><span style="color:#D73A49">const</span><span style="color:#6F42C1"> Account</span><span style="color:#D73A49">&#x26;</span><span style="color:#E36209"> r</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">{</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#24292E"> out </span><span style="color:#D73A49">&#x3C;&#x3C;</span><span style="color:#24292E"> r.卡号 </span><span style="color:#D73A49">&#x3C;&#x3C;</span><span style="color:#032F62"> "</span><span style="color:#005CC5">\t</span><span style="color:#032F62">"</span><span style="color:#D73A49"> &#x3C;&#x3C;</span><span style="color:#24292E"> r.姓名 </span><span style="color:#D73A49">&#x3C;&#x3C;</span><span style="color:#032F62"> "</span><span style="color:#005CC5">\t</span><span style="color:#032F62">"</span><span style="color:#D73A49"> &#x3C;&#x3C;</span><span style="color:#24292E"> r.身份证号 </span><span style="color:#D73A49">&#x3C;&#x3C;</span><span style="color:#032F62"> "</span><span style="color:#005CC5">\t</span><span style="color:#032F62">"</span><span style="color:#D73A49"> &#x3C;&#x3C;</span><span style="color:#24292E"> r.开户银行 </span><span style="color:#D73A49">&#x3C;&#x3C;</span><span style="color:#032F62"> "</span><span style="color:#005CC5">\t</span><span style="color:#032F62">"</span><span style="color:#D73A49"> &#x3C;&#x3C;</span><span style="color:#24292E"> r.信用额度 </span><span style="color:#D73A49">&#x3C;&#x3C;</span><span style="color:#032F62"> "</span><span style="color:#005CC5">\t</span><span style="color:#032F62">"</span><span style="color:#D73A49"> &#x3C;&#x3C;</span><span style="color:#24292E"> r.消费金额 </span><span style="color:#D73A49">&#x3C;&#x3C;</span><span style="color:#032F62"> "</span><span style="color:#005CC5">\t</span><span style="color:#032F62">"</span><span style="color:#D73A49"> &#x3C;&#x3C;</span><span style="color:#24292E"> r.信用积分;</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"><span style="color:#6F42C1">istream</span><span style="color:#D73A49">&#x26;</span><span style="color:#D73A49"> operator</span><span style="color:#6F42C1">>></span><span style="color:#24292E">(</span><span style="color:#6F42C1">istream</span><span style="color:#D73A49">&#x26;</span><span style="color:#E36209"> in</span><span style="color:#24292E">, </span><span style="color:#6F42C1">Account</span><span style="color:#D73A49">&#x26;</span><span style="color:#E36209"> r</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">{</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#24292E"> in </span><span style="color:#D73A49">>></span><span style="color:#24292E"> r.卡号 </span><span style="color:#D73A49">>></span><span style="color:#24292E"> r.姓名 </span><span style="color:#D73A49">>></span><span style="color:#24292E"> r.身份证号 </span><span style="color:#D73A49">>></span><span style="color:#24292E"> r.开户银行 </span><span style="color:#D73A49">>></span><span style="color:#24292E"> r.信用额度 </span><span style="color:#D73A49">>></span><span style="color:#24292E"> r.消费金额 </span><span style="color:#D73A49">>></span><span style="color:#24292E"> r.信用积分;</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"><span style="color:#D73A49">int</span><span style="color:#6F42C1"> main</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#24292E">{</span></span>
<span class="line"><span style="color:#24292E">    vector</span><span style="color:#D73A49">&#x3C;</span><span style="color:#24292E">Account</span><span style="color:#D73A49">></span><span style="color:#24292E"> accounts;</span></span>
<span class="line"><span style="color:#24292E">    ifstream </span><span style="color:#6F42C1">infile</span><span style="color:#24292E">(</span><span style="color:#032F62">"data.txt"</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#6F42C1">    copy</span><span style="color:#24292E">(</span><span style="color:#6F42C1">istream_iterator</span><span style="color:#24292E">&#x3C;</span><span style="color:#6F42C1">Account</span><span style="color:#24292E">>(infile), </span><span style="color:#6F42C1">istream_iterator</span><span style="color:#24292E">&#x3C;</span><span style="color:#6F42C1">Account</span><span style="color:#24292E">>(), </span><span style="color:#6F42C1">back_inserter</span><span style="color:#24292E">(accounts));</span></span>
<span class="line"><span style="color:#24292E">    infile.</span><span style="color:#6F42C1">close</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#D73A49">    for</span><span style="color:#24292E"> (</span><span style="color:#D73A49">int</span><span style="color:#24292E"> cmd </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> -</span><span style="color:#005CC5">1</span><span style="color:#24292E">, mIntVar; cmd </span><span style="color:#D73A49">!=</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">; </span><span style="color:#6F42C1">system</span><span style="color:#24292E">(</span><span style="color:#032F62">"pause"</span><span style="color:#24292E">))</span></span>
<span class="line"><span style="color:#24292E">    {</span></span>
<span class="line"><span style="color:#D73A49">        if</span><span style="color:#24292E"> (</span><span style="color:#6F42C1">Input</span><span style="color:#24292E">(</span><span style="color:#032F62">"</span><span style="color:#005CC5">\033</span><span style="color:#032F62">[H</span><span style="color:#005CC5">\033</span><span style="color:#032F62">[J欢迎使用【信用卡客户管理系统】</span><span style="color:#005CC5">\n</span><span style="color:#032F62">1.查</span><span style="color:#005CC5">\n</span><span style="color:#032F62">2.增</span><span style="color:#005CC5">\n</span><span style="color:#032F62">3.改</span><span style="color:#005CC5">\n</span><span style="color:#032F62">4.删</span><span style="color:#005CC5">\n</span><span style="color:#032F62">5.排序</span><span style="color:#005CC5">\n</span><span style="color:#032F62">0.退出</span><span style="color:#005CC5">\n</span><span style="color:#032F62">"</span><span style="color:#24292E">, cmd) </span><span style="color:#D73A49">==</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">        {</span></span>
<span class="line"><span style="color:#D73A49">            if</span><span style="color:#24292E"> (</span><span style="color:#6F42C1">Input</span><span style="color:#24292E">(</span><span style="color:#032F62">"1.按卡号</span><span style="color:#005CC5">\n</span><span style="color:#032F62">2.按姓名</span><span style="color:#005CC5">\n</span><span style="color:#032F62">3.按身份证</span><span style="color:#005CC5">\n</span><span style="color:#032F62">4.按信用积分</span><span style="color:#005CC5">\n</span><span style="color:#032F62">5.全部显示</span><span style="color:#005CC5">\n</span><span style="color:#032F62">"</span><span style="color:#24292E">, cmd) </span><span style="color:#D73A49">==</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">) { </span><span style="color:#6F42C1">QueryByItem</span><span style="color:#24292E">(卡号); }</span></span>
<span class="line"><span style="color:#D73A49">            else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (cmd </span><span style="color:#D73A49">==</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">) { </span><span style="color:#6F42C1">QueryByItem</span><span style="color:#24292E">(姓名); }</span></span>
<span class="line"><span style="color:#D73A49">            else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (cmd </span><span style="color:#D73A49">==</span><span style="color:#005CC5"> 3</span><span style="color:#24292E">) { </span><span style="color:#6F42C1">QueryByItem</span><span style="color:#24292E">(身份证号); }</span></span>
<span class="line"><span style="color:#D73A49">            else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (cmd </span><span style="color:#D73A49">==</span><span style="color:#005CC5"> 4</span><span style="color:#24292E">) { </span><span style="color:#6F42C1">QueryByItem</span><span style="color:#24292E">(信用积分); }</span></span>
<span class="line"><span style="color:#D73A49">            else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (cmd </span><span style="color:#D73A49">==</span><span style="color:#005CC5"> 5</span><span style="color:#24292E">) { </span><span style="color:#6F42C1">copy</span><span style="color:#24292E">(</span><span style="color:#6F42C1">ForEach</span><span style="color:#24292E">(accounts), </span><span style="color:#6F42C1">ostream_iterator</span><span style="color:#24292E">&#x3C;</span><span style="color:#6F42C1">Account</span><span style="color:#24292E">>(cout, </span><span style="color:#032F62">"</span><span style="color:#005CC5">\n</span><span style="color:#032F62">"</span><span style="color:#24292E">)); }</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"><span style="color:#D73A49">        else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (cmd </span><span style="color:#D73A49">==</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">        {</span></span>
<span class="line"><span style="color:#6F42C1">            Input</span><span style="color:#24292E">(</span><span style="color:#032F62">"几条?</span><span style="color:#005CC5">\n</span><span style="color:#032F62">"</span><span style="color:#24292E">, mIntVar);</span></span>
<span class="line"><span style="color:#24292E">            cout </span><span style="color:#D73A49">&#x3C;&#x3C;</span><span style="color:#032F62"> "卡号、用户姓名、身份证号码、开户银行、信用额度、消费金额、信用积分</span><span style="color:#005CC5">\n</span><span style="color:#032F62">"</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#6F42C1">            copy_n</span><span style="color:#24292E">(</span><span style="color:#6F42C1">istream_iterator</span><span style="color:#24292E">&#x3C;</span><span style="color:#6F42C1">Account</span><span style="color:#24292E">>(cin), mIntVar, </span><span style="color:#6F42C1">back_inserter</span><span style="color:#24292E">(accounts));</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"><span style="color:#D73A49">        else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (cmd </span><span style="color:#D73A49">==</span><span style="color:#005CC5"> 3</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">        {</span></span>
<span class="line"><span style="color:#6F42C1">            Input</span><span style="color:#24292E">(</span><span style="color:#032F62">"卡号?</span><span style="color:#005CC5">\n</span><span style="color:#032F62">"</span><span style="color:#24292E">, mIntVar);</span></span>
<span class="line"><span style="color:#D73A49">            if</span><span style="color:#24292E"> (</span><span style="color:#6F42C1">Input</span><span style="color:#24292E">(</span><span style="color:#032F62">"1.修改信用额度</span><span style="color:#005CC5">\n</span><span style="color:#032F62">2.兑换积分</span><span style="color:#005CC5">\n</span><span style="color:#032F62">"</span><span style="color:#24292E">, cmd) </span><span style="color:#D73A49">==</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">            {</span></span>
<span class="line"><span style="color:#24292E">                cin </span><span style="color:#D73A49">>></span><span style="color:#6F42C1"> find_if</span><span style="color:#24292E">(</span><span style="color:#6F42C1">ForEach</span><span style="color:#24292E">(accounts), [</span><span style="color:#D73A49">=</span><span style="color:#24292E">](</span><span style="color:#D73A49">const</span><span style="color:#6F42C1"> Account</span><span style="color:#D73A49">&#x26;</span><span style="color:#E36209"> r</span><span style="color:#24292E">) { </span><span style="color:#D73A49">return</span><span style="color:#24292E"> r.卡号 </span><span style="color:#D73A49">==</span><span style="color:#24292E"> mIntVar; })</span><span style="color:#D73A49">-></span><span style="color:#24292E">信用额度;</span></span>
<span class="line"><span style="color:#24292E">            }</span></span>
<span class="line"><span style="color:#D73A49">            else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (cmd </span><span style="color:#D73A49">==</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">            {</span></span>
<span class="line"><span style="color:#D73A49">                decltype</span><span style="color:#24292E">(</span><span style="color:#6F42C1">Account</span><span style="color:#24292E">::信用积分) fidemD;</span></span>
<span class="line"><span style="color:#6F42C1">                find_if</span><span style="color:#24292E">(</span><span style="color:#6F42C1">ForEach</span><span style="color:#24292E">(accounts), [</span><span style="color:#D73A49">=</span><span style="color:#24292E">](</span><span style="color:#D73A49">const</span><span style="color:#6F42C1"> Account</span><span style="color:#D73A49">&#x26;</span><span style="color:#E36209"> r</span><span style="color:#24292E">) { </span><span style="color:#D73A49">return</span><span style="color:#24292E"> r.卡号 </span><span style="color:#D73A49">==</span><span style="color:#24292E"> mIntVar; })</span><span style="color:#D73A49">-></span><span style="color:#24292E">信用积分 </span><span style="color:#D73A49">-=</span><span style="color:#6F42C1"> Input</span><span style="color:#24292E">(</span><span style="color:#032F62">""</span><span style="color:#24292E">, fidemD);</span></span>
<span class="line"><span style="color:#24292E">            }</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"><span style="color:#D73A49">        else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (cmd </span><span style="color:#D73A49">==</span><span style="color:#005CC5"> 4</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">        {</span></span>
<span class="line"><span style="color:#6F42C1">            Input</span><span style="color:#24292E">(</span><span style="color:#032F62">"卡号?"</span><span style="color:#24292E">, mIntVar);</span></span>
<span class="line"><span style="color:#24292E">            accounts.</span><span style="color:#6F42C1">erase</span><span style="color:#24292E">(</span><span style="color:#6F42C1">remove_if</span><span style="color:#24292E">(</span><span style="color:#6F42C1">ForEach</span><span style="color:#24292E">(accounts), [</span><span style="color:#D73A49">=</span><span style="color:#24292E">](</span><span style="color:#D73A49">const</span><span style="color:#6F42C1"> Account</span><span style="color:#D73A49">&#x26;</span><span style="color:#E36209"> r</span><span style="color:#24292E">) { </span><span style="color:#D73A49">return</span><span style="color:#24292E"> r.卡号 </span><span style="color:#D73A49">==</span><span style="color:#24292E"> mIntVar; }), accounts.</span><span style="color:#6F42C1">end</span><span style="color:#24292E">());</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"><span style="color:#D73A49">        else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (cmd </span><span style="color:#D73A49">==</span><span style="color:#005CC5"> 5</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">        {</span></span>
<span class="line"><span style="color:#D73A49">            if</span><span style="color:#24292E"> (</span><span style="color:#6F42C1">Input</span><span style="color:#24292E">(</span><span style="color:#032F62">"1.卡号</span><span style="color:#005CC5">\n</span><span style="color:#032F62">2.消费金额</span><span style="color:#005CC5">\n</span><span style="color:#032F62">3.信用额度</span><span style="color:#005CC5">\n</span><span style="color:#032F62">4.信用积分</span><span style="color:#005CC5">\n</span><span style="color:#032F62">"</span><span style="color:#24292E">, cmd) </span><span style="color:#D73A49">==</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">) { </span><span style="color:#6F42C1">SortByItem</span><span style="color:#24292E">(卡号); }</span></span>
<span class="line"><span style="color:#D73A49">            else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (cmd </span><span style="color:#D73A49">==</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">) { </span><span style="color:#6F42C1">SortByItem</span><span style="color:#24292E">(消费金额); }</span></span>
<span class="line"><span style="color:#D73A49">            else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (cmd </span><span style="color:#D73A49">==</span><span style="color:#005CC5"> 3</span><span style="color:#24292E">) { </span><span style="color:#6F42C1">SortByItem</span><span style="color:#24292E">(信用额度); }</span></span>
<span class="line"><span style="color:#D73A49">            else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (cmd </span><span style="color:#D73A49">==</span><span style="color:#005CC5"> 4</span><span style="color:#24292E">) { </span><span style="color:#6F42C1">SortByItem</span><span style="color:#24292E">(信用积分); }</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">    ofstream </span><span style="color:#6F42C1">outfile</span><span style="color:#24292E">(</span><span style="color:#032F62">"data.txt"</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#6F42C1">    copy</span><span style="color:#24292E">(</span><span style="color:#6F42C1">ForEach</span><span style="color:#24292E">(accounts), </span><span style="color:#6F42C1">ostream_iterator</span><span style="color:#24292E">&#x3C;</span><span style="color:#6F42C1">Account</span><span style="color:#24292E">>(outfile, </span><span style="color:#032F62">"</span><span style="color:#005CC5">\n</span><span style="color:#032F62">"</span><span style="color:#24292E">));</span></span>
<span class="line"><span style="color:#24292E">    outfile.</span><span style="color:#6F42C1">close</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div><p></p>
            </div>
        </div>
    </div>

    <div class="footer">
        <p rel="license"><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a></p>
        <p rel="contact">
            <a href="mailto:puellaquae@outlook.com">Mail</a>
            <a href="https://github.com/Puellaquae">Github</a>
        </p>
    </div>
</body>

</html>